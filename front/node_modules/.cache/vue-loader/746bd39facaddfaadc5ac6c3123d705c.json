{"remainingRequest":"/Applications/MAMP/htdocs/iim/nodejs/todo_app/front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/MAMP/htdocs/iim/nodejs/todo_app/front/src/components/Navbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/MAMP/htdocs/iim/nodejs/todo_app/front/src/components/Navbar.vue","mtime":1618773360000},{"path":"/Applications/MAMP/htdocs/iim/nodejs/todo_app/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/htdocs/iim/nodejs/todo_app/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Applications/MAMP/htdocs/iim/nodejs/todo_app/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/htdocs/iim/nodejs/todo_app/front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbicKaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJwoKaW1wb3J0IHVzZXJzIGZyb20gJy4uL2FwaS91c2VycycKCmltcG9ydCBNZW51RHJvcGRvd24gZnJvbSAnLi4vbW9sZWN1bGVzL01lbnVEcm9wZG93bicKaW1wb3J0IFNlYXJjaEJhciBmcm9tICcuLi9hdG9tcy9TZWFyY2hCYXInCgpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgTWVudURyb3Bkb3duLAogICAgICAgIFNlYXJjaEJhcgogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgbGlua3M6IFsKICAgICAgICAgICAge3RpdGxlOiAnTG9naW4nLCByb3V0ZTogJy9sb2dpbid9LAogICAgICAgICAgICB7dGl0bGU6ICdTaWdudXAnLCByb3V0ZTogJy9zaWdudXAnfSwKICAgICAgICBdLAogICAgICAgIGxpbmtzVXNlcjogWwogICAgICAgICAgICB7dGl0bGU6ICdNeSBkYXNoYm9hcmQnLCByb3V0ZTogJy9wcm9maWxlJ30KICAgICAgICBdCiAgICB9KSwKICAgIGFzeW5jQ29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBHZXR0ZXJzKCd1c2VycycsIHsKICAgICAgICAgICAgdG9rZW46ICd0b2tlbicKICAgICAgICB9KSwKICAgICAgICB1c2VyOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnRva2VuICYmIHRoaXMudG9rZW4uaXNMb2dnZWQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmaWVkVG9rZW4gPSBqd3QudmVyaWZ5KHRoaXMudG9rZW4udG9rZW4sICdzZWNyZXQnKQogICAgICAgICAgICAgICAgaWYgKHZlcmlmaWVkVG9rZW4pIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gdXNlcnMuZ2V0VXNlcih0aGlzLnRva2VuLnRva2VuKQogICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICBjb25zdCBsb2dDb29raWUgPSBDb29raWVzLmdldCgndG9rZW4nKQogICAgICAgIGlmIChsb2dDb29raWUpIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXJzL1NUT1JFX1RPS0VOJywgbG9nQ29va2llKQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Navbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Navbar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <nav>\n      <search-bar/>\n      <div class=\"right-content\">\n          <menu-dropdown\n            v-if=\"user\"\n            :links=\"linksUser\"\n            :text=\"user.username\"\n          ></menu-dropdown>\n          <menu-dropdown\n            v-else\n            :links=\"links\"\n            :text=\"'Hi'\"\n          ></menu-dropdown>\n      </div>\n  </nav>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport jwt from 'jsonwebtoken'\nimport Cookies from 'js-cookie'\n\nimport users from '../api/users'\n\nimport MenuDropdown from '../molecules/MenuDropdown'\nimport SearchBar from '../atoms/SearchBar'\n\nexport default {\n    components: {\n        MenuDropdown,\n        SearchBar\n    },\n    data: () => ({\n        links: [\n            {title: 'Login', route: '/login'},\n            {title: 'Signup', route: '/signup'},\n        ],\n        linksUser: [\n            {title: 'My dashboard', route: '/profile'}\n        ]\n    }),\n    asyncComputed: {\n        ...mapGetters('users', {\n            token: 'token'\n        }),\n        user: function () {\n            if (this.token && this.token.isLogged) {\n                const verifiedToken = jwt.verify(this.token.token, 'secret')\n                if (verifiedToken) {\n                    const user = users.getUser(this.token.token)\n                    return user\n                }\n            }\n        }\n    },\n    mounted() {\n        const logCookie = Cookies.get('token')\n        if (logCookie) {\n            this.$store.dispatch('users/STORE_TOKEN', logCookie)\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    nav {\n        display: flex;\n        justify-content: space-between;\n        padding: 20px;\n    }\n</style>"]}]}